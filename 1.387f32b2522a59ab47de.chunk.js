webpackJsonp([1],{"/gKu":function(t,e,i){e=t.exports=i("FZ+f")(void 0),e.push([t.i,':host{display:block;margin-top:3rem;margin-bottom:2rem}.comic-list{margin-top:3rem;display:flex;flex-wrap:wrap;justify-content:space-between}.comic__item{width:23%;margin-bottom:3rem;text-align:center}.comic__about{margin-top:1.5rem;font-size:2rem}.comic__about__link{cursor:pointer}.comic__about__link:focus,.comic__about__link:hover{color:#ff1414}@media screen and (max-width:768px){.comic__item{width:23%}}@media screen and (max-width:640px){.comic__item{width:32%}}@media screen and (max-width:400px){.comic__item{width:48%}}.next-button{position:relative;width:3.4rem;height:3.4rem;outline:none;background-color:transparent;border:.4rem solid #ff1414;border-radius:50%}.next-button:hover:before{transform:rotate(180deg) translateY(50%)}.next-button:hover:after{transform:rotate(180deg) translate(50%)}.next-button:before{width:3rem;height:.4rem;top:50%;left:0;transform:translateY(-50%);transition:transform .5s ease-out .3s}.next-button:after,.next-button:before{position:absolute;content:"";background-color:#ff1414}.next-button:after{height:3rem;width:.4rem;top:0;left:50%;border-radius:20%;transform:translate(-50%);transition:transform .7s ease}.list__footer{text-align:center}.search_button{outline:none;border:none;background-color:transparent;color:#eee;font-size:2rem}.search_button:focus,.search_button:hover{color:gray}@media screen and (max-width:640px){.search-form{display:flex;justify-content:center}}',""])},"4CG9":function(t,e,i){var o=i("u1hf");t.exports="string"==typeof o?o:o.toString()},Cn1J:function(t,e,i){e=t.exports=i("FZ+f")(void 0),e.push([t.i,'.comic-title{text-align:center}.comic-content{margin-top:2rem;display:flex}.comic-cover{min-width:30%;margin-right:2rem}@media screen and (max-width:414px){.comic-cover{min-width:100%;margin-right:0}.comic-content{flex-direction:column;align-items:center}}.comic-description{text-indent:3rem;line-height:1.5}.comic-details{margin-top:3rem}.block{margin-bottom:2.5rem}.block:last-of-type{margin-bottom:0}.block__header{text-decoration:underline}.block__content{margin-top:1.5rem;display:flex;flex-wrap:wrap}.hero__link{margin-right:1.5rem;display:flex;flex-direction:column;align-items:center;margin-bottom:1.5rem;width:30%}.hero__link:focus,.hero__link:hover{color:#ff1414}.hero__link:last-of-type{margin-right:0}@media screen and (max-width:640px){.hero__link{width:45%}}@media screen and (max-width:400px){.hero__link{width:100%}}.favourite{position:relative}.favourite:hover:after{bottom:0;transform:translate(-50%,110%);left:50%;position:absolute;font-size:1.2rem;padding:.6rem 1rem;color:#eee;background-color:rgba(0,0,0,.8);border:1px solid #750012}.favourited{color:#ff1414}.favourited:hover:after{content:"remove favourite"}.unfavourited{color:#fff}.unfavourited:hover:after{content:"add favourite"}.creator{margin-right:2rem;border-bottom:1px solid #ff1414}.creator:last-of-type{margin-right:0}',""])},D2Ag:function(t,e,i){var o=i("/gKu");t.exports="string"==typeof o?o:o.toString()},Hm0j:function(t,e){t.exports='<h3 class="comic-title">\n    {{comic?.title}}\n    <i class="icon icon_fire favourite" (click)="toggleFavourite()" [ngClass]="isFavourite ? \'favourited\' : \'unfavourited\'"></i>\n</h3>\n<div class="comic-content">\n    <div class="comic-cover">\n        <picture class="comic__picture" *ngIf="comic?.thumbnail">\n            <source [srcset]="comic?.thumbnail?.path + \'/portrait_uncanny.\' + comic?.thumbnail?.extension" media="(min-width: 768px)">\n            <source [srcset]="comic?.thumbnail?.path + \'/portrait_xlarge.\' + comic?.thumbnail?.extension" media="(min-width: 425px)">\n            <img class="image" [src]="comic?.thumbnail?.path + \'.\' + comic?.thumbnail?.extension" [alt]="comic?.title">\n        </picture>\n    </div>\n    <ng-container *ngIf="comic?.description; else empty">\n        <p class="comic-description">{{comic?.description}}</p>\n    </ng-container>\n</div>\n<div class="comic-details">\n    <div class="block">\n        <header class="block__header">\n            <h4>Characters</h4>\n        </header>\n        <div class="block__content">\n            <ng-container *ngIf="heroes?.length !== 0; else empty">\n                <a class="hero__link" *ngFor="let hero of heroes" (click)="selectHero(hero)">\n                    <picture class="hero__picture" *ngIf="hero?.thumbnail">\n                        <source [srcset]="hero?.thumbnail?.path + \'/portrait_medium.\' + hero?.thumbnail?.extension" media="(min-width: 768px)">\n                        <source [srcset]="hero?.thumbnail?.path + \'/portrait_medium.\' + hero?.thumbnail?.extension" media="(min-width: 100px)">\n                        <img class="image" [src]="hero?.thumbnail?.path + \'.\' + hero?.thumbnail?.extension" [alt]="hero?.name">\n                    </picture>\n                    <span>{{hero.name}}</span>\n                </a>\n            </ng-container>\n        </div>\n    </div>\n    <div class="block">\n        <header class="block__header">\n            <h4>Creators</h4>\n        </header>\n        <div class="block__content">\n            <ng-container *ngIf="comic?.creators?.items.length !== 0; else empty">\n                <div class="creator"\n                     *ngFor="let creator of comic?.creators.items">\n                    <span>{{creator.name}}</span>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n<ng-template #empty>\n    <span class="empty">nothing to see here :((</span>\n</ng-template>'},PfKt:function(t,e,i){var o=i("Cn1J");t.exports="string"==typeof o?o:o.toString()},Pjnq:function(t,e){t.exports='<form [formGroup]="form" class="search-form">\n    <app-search placeholder="World war and etc." formControlName="search"></app-search>\n    <button class="search_button" (click)="findComics()">\n        <i class="icon icon_search"></i>\n    </button>\n</form>\n<ul class="comic-list">\n    <ng-container *ngIf="comics && comics?.length !== 0; else empty">\n        <li class="comic__item comic__about__link" *ngFor="let comic of comics" (click)="selectComic(comic)">\n            <div class="comic__preview">\n                <picture class="comic__picture" *ngIf="comic?.thumbnail">\n                    <source [srcset]="comic?.thumbnail?.path + \'/portrait_uncanny.\' + comic?.thumbnail?.extension" media="(min-width: 768px)">\n                    <source [srcset]="comic?.thumbnail?.path + \'/portrait_xlarge.\' + comic?.thumbnail?.extension" media="(min-width: 425px)">\n                    <source [srcset]="comic?.thumbnail?.path + \'/portrait_medium.\' + comic?.thumbnail?.extension" media="(min-width: 100px)">\n                    <img class="image" [src]="comic?.thumbnail?.path + \'.\' + comic?.thumbnail?.extension" [alt]="comic?.title">\n                </picture>\n            </div>\n            <p class="comic__about">\n                <span>{{comic?.title}}</span>\n            </p>\n        </li>\n    </ng-container>\n</ul>\n<div class="list__footer">\n    <button title="load more" class="next-button" (click)="loadNext()"></button>\n</div>\n\n<ng-template #empty>\n    <h2>Sorry, no comics found :(</h2>\n</ng-template>\n'},TewN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("TToO"),n=i("3j3K"),r=i("2Je8"),c=i("NVOs"),a=i("5oXY"),s=i("wC5L"),m=i("j6h4"),l=(function(){function t(t,e,i){this.comicsRepository=t,this.tabsService=e,this.fb=i,this.offsetCounter=0}return t.prototype.ngOnInit=function(){var t=this;this.createForm(),this.subscribeOnSearch(),this.comicsRepository.fetchComics().do((function(){return t.offsetCounter+=23})).subscribe((function(e){return t.comics=e}))},t.prototype.selectComic=function(t){this.tabsService.openNewTab({route:"comics/entity/"+t.id,name:""+t.title})},t.prototype.loadNext=function(){var t=this;this.comicsRepository.fetchComics({params:{offset:this.offsetCounter}}).do((function(){return t.offsetCounter+=23})).distinctUntilChanged().subscribe((function(e){return e?t.comics=t.comics.concat(e):null}))},t.prototype.createForm=function(){this.form=this.fb.group({search:[""]})},t.prototype.findComics=function(){var t=this,e=this.form.controls.search.value;this.comicsRepository.findComic(e).subscribe((function(e){return t.comics=e}))},t.prototype.subscribeOnSearch=function(){var t=this;this.form.controls.search.valueChanges.debounceTime(800).distinctUntilChanged().switchMap((function(e){return t.comicsRepository.findComic(e)})).subscribe((function(e){return t.comics=e}))},t})();l=o.b([Object(n.o)({selector:"app-comic-list",template:i("Pjnq"),styles:[i("D2Ag")]}),o.d("design:paramtypes",[s.a,m.a,c.a])],l);var u=i("rCTf"),h=i("A2z0"),p=(function(){function t(t,e,i,o,n){this.comicRepository=t,this.route=e,this.router=i,this.tabsService=o,this.favouritesService=n,this.isFavourite=!1}return t.prototype.ngOnInit=function(){var t=this;this.loadComic().subscribe((function(){return t.tabsService.updateCurrentTabName(t.comic.title)})),this.isFavourite=this.favouritesService.isFavourite(this.comicId,"comic"),this.router.events.switchMap((function(e){return e instanceof a.b?t.loadComic():u.Observable.of(t.comic)})).subscribe()},Object.defineProperty(t.prototype,"comicId",{get:function(){return this.route.snapshot.params.id},enumerable:!0,configurable:!0}),t.prototype.loadComic=function(){var t=this;return this.comicRepository.fetchComic(this.comicId).switchMap((function(e){return t.comic=e,t.comicRepository.fetchComicHeroes(t.comicId)})).do((function(e){return t.heroes=e}))},t.prototype.selectHero=function(t){this.tabsService.openNewTab({route:"heroes/entity/"+t.id,name:""+t.name})},t.prototype.toggleFavourite=function(){this.isFavourite=!this.isFavourite,this.favouritesService.toggleFavourite(this.comicId,"comic")},t})();p=o.b([Object(n.o)({selector:"app-comic",template:i("Hm0j"),styles:[i("PfKt")]}),o.d("design:paramtypes",[s.a,a.a,a.c,m.a,h.a])],p);var f=[{path:"",component:l},{path:"entity/:id",component:p}],d=(function(){function t(){}return t})();d=o.b([Object(n.M)({imports:[a.d.forChild(f)],exports:[a.d]})],d);var b=(function(){function t(){}return t})();b=o.b([Object(n.o)({selector:"app-comic-preview",template:i("xoSr"),styles:[i("4CG9")]})],b);var g=i("fAE3");i.d(e,"ComicsModule",(function(){return v}));var v=(function(){function t(){}return t})();v=o.b([Object(n.M)({declarations:[p,b,l],imports:[g.a,d,r.b,c.b]})],v)},u1hf:function(t,e,i){e=t.exports=i("FZ+f")(void 0),e.push([t.i,"",""])},xoSr:function(t,e){t.exports="<h2>comic preview</h2>"}});