webpackJsonp([0],{"0RAW":function(t,e){t.exports='<div class="home-menu">\n    <a class="home-menu_item" *ngFor="let tab of tabService.availableTabs"\n       [routerLink]="tab.route" [queryParams]="tab.queryParams" [routerLinkActiveOptions]="{exact: true}"\n       routerLinkActive="active" (click)="tabService.updateCurrentTab(tab)">\n        {{tab.name}}\n        <span *ngIf="tab.isDefault" class="icon icon_close-tab" (click)="closeTab(tab); false"></span>\n    </a>\n</div>\n<router-outlet></router-outlet>'},B75I:function(t,e,r){var n=r("koTQ");t.exports="string"==typeof n?n:n.toString()},NiF9:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("TToO"),a=r("3j3K"),o=r("2Je8"),i=r("5oXY"),u=r("j6h4"),s=(function(){function t(t){this.navigationTabService=t}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"tabService",{get:function(){return this.navigationTabService},enumerable:!0,configurable:!0}),t.prototype.closeTab=function(t){this.navigationTabService.removeTabById(t.id)},t})();s=n.b([Object(a.o)({selector:"app-home",template:r("0RAW"),styles:[r("B75I")]}),n.d("design:paramtypes",[u.a])],s);var c=[{path:"",component:s,children:[{path:"",redirectTo:"comics"},{path:"comics",loadChildren:function(){return r.e(1).then(r.bind(null,"TewN")).then((function(t){return t.ComicsModule}))}},{path:"heroes",loadChildren:function(){return r.e(2).then(r.bind(null,"Seki")).then((function(t){return t.HeroesModule}))}},{path:"favourites",loadChildren:function(){return r.e(3).then(r.bind(null,"7zQV")).then((function(t){return t.FavouritesModule}))}}]}],b=(function(){function t(){}return t})();b=n.b([Object(a.M)({imports:[i.d.forChild(c)],exports:[i.d]})],b),r.d(e,"HomeModule",(function(){return f}));var f=(function(){function t(){}return t})();f=n.b([Object(a.M)({declarations:[s],imports:[b,o.b],providers:[u.a]})],f)},j6h4:function(t,e,r){"use strict";function n(){return[Date.now(),Math.trunc(1e4*Math.random())].map((function(t){return t.toString(36)})).join("-")}var a=r("TToO"),o=r("3j3K"),i=r("5oXY"),u=r("TfWX"),s=r("8Bav"),c=(function(){function t(){}return Object.defineProperty(t,"DEFAULT",{get:function(){return[{route:"/comics",name:"COMICS"},{route:"/heroes",name:"HEROES"},{route:"/favourites",name:"FAVOURITE"}].map((function(t){return new b(t)}))},enumerable:!0,configurable:!0}),t})(),b=f=(function(){function t(t){this.name="",this.id=n(),this._route=f.basePathUrl(""),this._queryParams={},this.resolveParams(t)}return Object.defineProperty(t.prototype,"route",{get:function(){return this._route},set:function(t){this._route=f.basePathUrl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentRoute",{get:function(){return this._parentRoute},set:function(t){this._parentRoute=f.basePathUrl(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParams",{get:function(){return this._queryParams},set:function(t){this._queryParams=t||{},this._queryParams.tabId?this.id=this._queryParams.tabId:this._queryParams=a.a({},this._queryParams,(e={},e.tabId=this.id,e));var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDefault",{get:function(){var t=this;return-1===c.DEFAULT.findIndex((function(e){return e.name===t.name}))},enumerable:!0,configurable:!0}),t})();b.basePath="/",b.basePathUrl=function(t){return""+f.basePath+t},b=f=a.b([Object(s.a)(),a.d("design:paramtypes",[Object])],b);var f;r.d(e,"a",(function(){return p}));var p=(function(){function t(t){this.router=t,this._availableTabs=c.DEFAULT,this._currentTab=new u.BehaviorSubject(c.DEFAULT[0]),this.onServiceInit()}return t.prototype.onServiceInit=function(){this.openTabIfNotExist({route:this.router.routerState.snapshot.url.split("?")[0]})},Object.defineProperty(t.prototype,"currentTab",{get:function(){return this._currentTab.value},enumerable:!0,configurable:!0}),t.prototype.updateCurrentTab=function(t){this._currentTab.next(t)},Object.defineProperty(t.prototype,"availableTabs",{get:function(){return this._availableTabs},enumerable:!0,configurable:!0}),t.prototype.addTab=function(t){return this._availableTabs=this._availableTabs.concat([t])},t.prototype.findTabById=function(t){return this._availableTabs.find((function(e){var r=e.id;return t===r}))},t.prototype.findTab=function(t){return this.matchedTabs(t)[0]},t.prototype.matchedTabs=function(t){var e=t.route,r=t.queryParams,n=t.name,a=t.parentRoute;return this._availableTabs.filter((function(t){return t.route===b.basePathUrl(e)})).filter((function(t){return!r||t.queryParams===r})).filter((function(t){return!n||t.name===n})).filter((function(t){return!a||t.parentRoute===b.basePathUrl(a)}))},t.prototype.openNewTab=function(t){var e=t.route,r=t.queryParams,n=t.name,a=t.parentRoute,o=this.router.url.split("?")[0],i=new b({name:n,route:e,parentRoute:a||o,queryParams:r});return this.addTab(i),this.focusOnTabById(i.id),i},t.prototype.openTabIfNotExist=function(t){if(this.isTabExist(t)){var e=this.findTab(t);return this.focusOnTabById(e.id),e}this.openNewTab(t)},t.prototype.isTabExist=function(t){return!!this.findTab(t)},t.prototype.switchFocusToParentTab=function(t){var e=(this.findTab({route:t.parentRoute})||this._availableTabs[0]).id;this.focusOnTabById(e)},t.prototype.rebootTabs=function(){this._availableTabs=c.DEFAULT,this.focusOnTabById(this._availableTabs[0].id)},t.prototype.updateCurrentTabName=function(t){this.currentTab.name=t},t.prototype.updateTabName=function(t,e){var r=this.findTabById(t);r&&(r.name=e)},t.prototype.updateCurrentTabRoute=function(t){this.currentTab.route=t},t.prototype.updateTabRoute=function(t,e){var r=this.findTabById(t);r&&(r.route=e)},t.prototype.updateCurrentTabQueryParams=function(t){this.currentTab.queryParams=t},t.prototype.updateTabQueryParams=function(t,e){var r=this.findTabById(t);r&&(r.queryParams=e)},t.prototype.focusOnTabById=function(t){var e=this.findTabById(t);this.updateCurrentTab(e),this.router.navigate([e.route],{queryParams:e.queryParams})},t.prototype.focusOnTab=function(t){var e=this.findTab(t||{});if(!e)return void console.error("Unexpected tab params: "+JSON.stringify(t));this.focusOnTabById(e.id)},t.prototype.removeTabById=function(t,e){var r=this.findTabById(t);if(this._availableTabs=this._availableTabs.filter((function(e){return e.id!==t})),e){var n=this.findTab({route:e});if(n)return this.focusOnTabById(n.id)}this.isActiveTab(t)&&this.switchFocusToParentTab(r)},t.prototype.removeCurrentTab=function(t){this.removeTabById(this.currentTab.id,t)},t.prototype.isActiveTab=function(t){return this.currentTab.id===t},t.prototype.goBack=function(){this.switchFocusToParentTab(this.currentTab)},t})();p=a.b([Object(o.C)(),a.d("design:paramtypes",[i.c])],p)},koTQ:function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,".home-menu{display:block;overflow-x:auto;overflow-y:hidden;white-space:nowrap;font-size:2rem;width:100%;padding:.5rem 1rem;text-align:center}.home-menu::-webkit-scrollbar{height:.5rem;background-color:#f5f5f5}.home-menu::-webkit-scrollbar-thumb{border-radius:1rem;-webkit-box-shadow:inset 0 0 3px rgba(0,0,0,.3);background-color:gray}.home-menu_item{display:inline-block;border-bottom:.4rem solid #750012;padding:.6rem 1rem;margin-right:.5rem;white-space:nowrap}.home-menu_item:last-of-type{margin-right:0}.active{border-bottom:.4rem solid #ff1414}",""])}});